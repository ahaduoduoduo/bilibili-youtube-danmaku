# B2Y - YouTube 同步显示 Bilibili 弹幕

> B2Y - 自动将Bilibili的弹幕同步显示在YouTube视频上

🍻关注的 UP 在 Youtube 和 B 站都有投稿，想在 Youtube 看更好的画质又想看弹幕🤔？

让 YouTube 视频也能拥有 B 站的弹幕氛围！
关联 B 站 UP 主或手动输入视频链接，同步弹幕到 YouTube 播放页面～

## ✅ 支持功能

- ✨ 自动查找并加载对应弹幕
- ✨ 支持时间轴偏移校准
- ✨ 支持调整弹幕字体大小、透明度、滚动速度、垂直间距
- ✨ 支持设置弹幕显示区域范围
- ✨ 支持智能弹幕过滤
- ✨ 支持弹幕搜索和跳转时间轴
- ✨ 支持广告片段弹幕智能跳过
- ✨ 支持 “哔哩哔哩动画” 频道内番剧正片自动获取弹幕

## 🧩 使用方法

0. 安装本插件,并确保您已登录 B 站
1. 打开你在 YouTube 上观看的对应视频
2.1 热门UP主可以自动匹配，无需设置
   2.2 手动搜索可绑定 UP 主B 站空间
      2.3 也可以手动输入 B 站原视频链接。
3. 弹幕将在播放时自动显示在视频上方
4. 可根据需要调节字体大小、透明度、轨道间距、滚动速度等显示参数

## ✨ 特色功能

- **自动匹配：** 公共匹配库存在数据，或手动绑定 UP 主后，播放该 YouTube 频道的任意视频时，会自动匹配并加载对应 B 站视频的弹幕，无需每次手动输入链接。（未匹配到的视频可以手动匹配）
- **实时更新：** 绑定 UP 主后，打开任意视频时，会更新最新弹幕内容。
- **番剧支持：** “哔哩哔哩动画Anime Made By Bilibili ” 频道下的番剧正片，可自动获取弹幕（无需配置）

🎉欢迎贡献UP主匹配信息🎉

## 🌐 浏览器支持

本扩展基于现代化的 **WXT 框架** 构建，支持多浏览器部署：

- ✅ **Chrome** 
- ✅ **Firefox** 
- ✅ **Edge** 
- ✅ **Safari** 
- ❓**其他 Chromium 内核浏览器** (国内套壳浏览器, Opera 等) - 理论支持

## 📦 安装方式

### Chrome 应用商店版本（推荐）

[![Chrome Web Store](https://img.shields.io/chrome-web-store/v/dmkbhbnbpfijhgpnfahfioedledohfja.svg)](https://chromewebstore.google.com/detail/b2y-youtube-%E5%90%8C%E6%AD%A5%E6%98%BE%E7%A4%BA-bilibili/dmkbhbnbpfijhgpnfahfioedledohfja)

**[🚀 点击前往 Chrome 应用商店安装](https://chromewebstore.google.com/detail/b2y-youtube-%E5%90%8C%E6%AD%A5%E6%98%BE%E7%A4%BA-bilibili/dmkbhbnbpfijhgpnfahfioedledohfja)**

1. 打开上方链接
2. 点击"添加至 Chrome"按钮
3. 确认安装即可使用

### Firefox 商店版本

[![Firefox Addons](https://img.shields.io/amo/v/b2y-youtube-同步显示-bilibili-弹幕.svg)](https://addons.mozilla.org/zh-CN/firefox/addon/b2y-youtube-%E5%90%8C%E6%AD%A5%E6%98%BE%E7%A4%BA-bilibili-%E5%BC%B9%E5%B9%95/)

**[🦊 点击前往 Firefox 附加组件商店安装](https://addons.mozilla.org/zh-CN/firefox/addon/b2y-youtube-%E5%90%8C%E6%AD%A5%E6%98%BE%E7%A4%BA-bilibili-%E5%BC%B9%E5%B9%95/)**

1. 打开上方链接
2. 点击"添加到 Firefox"按钮
3. 确认安装即可使用

### Edge 

建议安装Chrome 商店版本

[![Chrome Web Store](https://img.shields.io/chrome-web-store/v/dmkbhbnbpfijhgpnfahfioedledohfja.svg)](https://chromewebstore.google.com/detail/b2y-youtube-%E5%90%8C%E6%AD%A5%E6%98%BE%E7%A4%BA-bilibili/dmkbhbnbpfijhgpnfahfioedledohfja)

**[🚀 点击前往 Chrome 应用商店安装](https://chromewebstore.google.com/detail/b2y-youtube-%E5%90%8C%E6%AD%A5%E6%98%BE%E7%A4%BA-bilibili/dmkbhbnbpfijhgpnfahfioedledohfja)**

### Safari

暂未上架，目前仍需手动安装


### 手动安装（支持多浏览器）

> 💡 **注意：** 优先推荐使用应用商店版本，仅在无法访问时才使用手动安装。

1. 前往本项目的 [Release 页面](https://github.com/ahaduoduoduo/bilibili-youtube-danmaku/releases) 下载最新版本对应的文件。

#### 🌐 Chrome 浏览器
- 下载 `B2Y-YouTube-Bilibili-Danmaku-vX.X.X-chrome.zip`
- 解压到本地文件夹
- 打开 `chrome://extensions/`
- 开启"开发者模式"
- 点击"加载已解压的扩展程序"，选择解压后的文件夹

#### 🦊 Firefox 浏览器
- 下载 `B2Y-YouTube-Bilibili-Danmaku-vX.X.X-firefox.zip`
- 打开 `about:debugging`
- 点击"此 Firefox"
- 点击"临时载入附加组件"
- 选择下载的 ZIP 文件
- ❗️ 注意，当前 Friefox 下仍存在性能问题，目前仍有卡顿问题
- ❗️ 注意，当前 Friefox 重启需要重新加载插件

#### 🌊 Edge 浏览器
- 下载 `B2Y-YouTube-Bilibili-Danmaku-vX.X.X-edge.zip`
- 解压到本地文件夹
- 打开 `edge://extensions/`
- 开启"开发人员模式"
- 点击"加载解压缩的扩展"，选择解压后的文件夹

#### 🧭 Safari 浏览器
- 下载 `B2Y-YouTube-Bilibili-Danmaku-vX.X.X-safari.zip`
- 打开 Safari 浏览器，进入"开发" > "开发者设置" > "允许未签名的拓展"
- 点击"添加临时扩展"
- 选择下载的 ZIP 文件
- 在使用前点击插件图标，允许扩展访问网页内容(如果提示)
- ❗️ 注意，当前 Safari 重启需要重新加载插件

## 🛠 开发者指南

本项目采用现代化的 **WXT 框架**，提供优秀的开发体验：

### 技术栈
- 🎯 **WXT Framework** - 现代化浏览器扩展开发框架
- 🚀 **ES6 模块化** - 使用 import/export 语法
- ⚡ **热重载** - 开发时自动刷新扩展
- 🔄 **代码分割** - 自动优化资源加载
- 🌐 **跨浏览器** - 一套代码支持多浏览器

### 开发环境

```bash
# 安装依赖
npm install

# Chrome 开发模式（支持热重载）
npm run dev

# Firefox 开发模式
npm run dev:firefox

# 生产构建
npm run build

# Firefox 构建
npm run build:firefox

# 打包扩展文件
npm run zip
npm run zip:firefox
```

#### 开发环境配置

为了方便开发，项目已配置持久化浏览器数据目录，这样可以保存登录状态和Cookie，避免每次启动开发环境都需要重新登录B站。

配置文件：`web-ext.config.js`

**Chrome/Edge 浏览器：**
- 浏览器数据将保存在 `.wxt/chrome-data/` 目录下
- 该目录已在 `.gitignore` 中被忽略，不会被提交到版本控制
- 首次运行 `npm run dev` 后，登录B站的状态会被保存
- 后续开发时无需重复登录

**Firefox 浏览器：**
- 支持通过自定义配置文件实现持久化（需要额外步骤）
- **设置步骤**：
  1. 在Firefox中输入 `about:profiles`
  2. 创建新配置文件 `wxt-dev-profile` (可为任意名称，但需要在`web-ext.config.js`文件中填写对应的Profile名称)
  3. 点击 "Launch profile in new browser"
  4. 在新窗口中登录B站并保存状态
  5. 关闭窗口，运行 `npm run dev:firefox`
- ⚠️ **重要**：直接在开发模式窗口中的登录不会被保存，必须先在正常Firefox窗口中建立登录状态

### 项目结构
```
bilibili-youtube-danmaku/
├── entrypoints/          # 扩展入口点
│   ├── background/       # 后台脚本
│   ├── content/         # 内容脚本
│   └── popup/           # 弹窗界面
├── utils/               # 工具模块  
├── public/              # 静态资源
└── wxt.config.js        # WXT 配置文件
```

## 📝 更新日志

### 2025-08-19
1.1.5
- ✨ 优化了标题匹配功能
- ✨ 优化了智能搜索时的关键词
- ✨ 增加了广告片段弹幕自动跳过功能，感谢 @[BilibiliSponsorBlock项目](https://github.com/hanydd/BilibiliSponsorBlock) 

### 2025-08-19
1.1.3
- ✨ 修复了部分浏览器下的弹幕闪烁问题
- ✨ 提升了部分浏览器的性能

### 2025-08-18
1.1.2
- ✨ 更换了 Web Animations API 以实现 Safari 和 Firefox 的兼容
- ✨ 支持四个主流浏览器完整版本构建：Chrome、Firefox、Edge、Safari
- ✨ 优化了动画性能，提供更流畅的弹幕显示体验

### 2025-08-17
1.1.1 
- ✨WXT 框架迁移，感谢 @[lemonteaau](https://github.com/lemonteaau) ）
- ✨修复了弹幕 Z-index 问题，感谢 @[lemonteaau](https://github.com/lemonteaau) ）
- ✨增加了 10% 的弹幕覆盖范围

### 2025-08-08
1.1.0
- ✨ 添加智能搜索 up 主 功能，没有绑定 UP 主时可以快速搜索 UP 主（https://github.com/ahaduoduoduo/bilibili-youtube-danmaku/pull/4 ，感谢 @[luoling8192](https://github.com/luoling8192) ）
- ✨ 时间轴偏移功能优化，可以手动输入时间（有朋友反馈部分视频偏移长达五分钟）

### 2025-08-06
1.0.9
- ✨ 优化了视频标题匹配模式
- ✨ 提供了公共匹配库

### 2025-08-05
1.0.8
- ✨ 添加多语言标题自动匹配功能（https://github.com/ahaduoduoduo/bilibili-youtube-danmaku/pull/1 ，感谢 @[lemonteaau](https://github.com/lemonteaau) ）

1.0.7
- ✨ 支持 “哔哩哔哩动画Anime Made By Bilibili ” 频道自动获取原创番剧弹幕

### 2025-08-04
1.0.6
- ✨ 优化了视频标题匹配模式
- ⚡ 提高了弹幕帧率

### [☕️支持我～](https://github.com/ahaduoduoduo/bilibili-youtube-danmaku/blob/main/DONATE.md)

